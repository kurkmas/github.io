const gallerySwiper=new Swiper(".gallery-swiper-container",{direction:"horizontal",slidesPerGroup:1,slidesPerColumn:1,slidesPerView:1,spaceBetween:10,breakpoints:{455:{slidesPerGroup:2,slidesPerColumn:1,slidesPerView:2,spaceBetween:20},760:{slidesPerGroup:2,slidesPerColumn:2,slidesPerView:2,spaceBetween:34},1321:{slidesPerGroup:3,slidesPerColumn:2,slidesPerView:3,spaceBetween:50}},navigation:{nextEl:".gallery-button-next",prevEl:".gallery-button-prev"},pagination:{el:".gallery-pagination",type:"fraction"}});document.addEventListener("DOMContentLoaded",(function(){window.onresize=function(){gallerySwiper.update()}}));const editionSwiper=new Swiper(".edition-swiper-container",{direction:"horizontal",slidesPerGroup:1,slidesPerView:1,slidesPerColumn:1,spaceBetween:10,navigation:{nextEl:".edition-button-next",prevEl:".edition-button-prev"},pagination:{el:".edition-pagination",type:"fraction"},breakpoints:{455:{slidesPerGroup:2,slidesPerView:2,slidesPerColumn:1,spaceBetween:34},1200:{slidesPerGroup:1,slidesPerColumn:1,slidesPerView:2,spaceBetween:50},1500:{slidesPerGroup:1,slidesPerColumn:1,slidesPerView:3,spaceBetween:50}}}),projectsSwiper=new Swiper(".projects-swiper-container",{direction:"horizontal",slidesPerView:1,slidesPerGroup:1,slidesPerColumn:1,spaceBetween:10,navigation:{nextEl:".pro-button-next",prevEl:".pro-button-prev"},breakpoints:{580:{slidesPerGroup:2,slidesPerView:2,slidesPerColumn:1,spaceBetween:34},1197:{slidesPerGroup:3,slidesPerColumn:1,slidesPerView:3,spaceBetween:50}}}),eventSwiper=new Swiper(".event-swiper-container",{direction:"horizontal",slidesPerView:1,spaceBetween:10,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0}}),selector=document.querySelector('input[type="tel"]'),im=new Inputmask("+7 (999) 999-99-99");im.mask(selector),new JustValidate("form",{tel:{required:!0,function:(e,t)=>{const n=selector.inputmask.unmaskedvalue();return Number(n)&&10==n.length}}});const element=document.querySelector("#select"),choises=new Choices(element,{itemSelectText:"",searchEnabled:!1}),burgerBtn=document.querySelector(".burger-menu");function showHiddenForm(){document.querySelector(".tablet-loupe__search").classList.add("search-active")}burgerBtn.addEventListener("click",(function(){document.querySelector(".burger-menu__nav").classList.toggle("menu__nav-active"),document.querySelector(".burger-menu__icon").classList.toggle("icon-active"),document.querySelector(".tablet-loupe__search").classList.toggle("tablet-loupe__search--hidden")})),document.querySelector(".tablet-loupe").addEventListener("click",(function(e){e.currentTarget.classList.add("search-active"),document.querySelector(".mobile-bg").classList.add("mobile-bg--active"),showHiddenForm()})),document.querySelector(".close").addEventListener("click",(function(){document.querySelector(".tablet-loupe__search").classList.remove("search-active"),document.querySelector(".tablet-loupe").classList.remove("search-active"),document.querySelector(".mobile-bg").classList.remove("mobile-bg--active")}));const styleList=document.querySelector(".header__bottom__list"),styleLIstItems=document.querySelectorAll(".header__bottom__list__item__link"),headerHiddenList=document.querySelectorAll(".hidden__list-wrapper"),svgArrow=document.querySelectorAll(".header__bottom__list__item__svg"),article=document.querySelector(".article__box__wrap"),modalBtn=document.querySelector(".get-in__inner"),modalClose=document.querySelectorAll(".modalCloseBtn"),modalWindow=document.querySelector(".modal__wrapper"),galleryModalContent=document.querySelector(".gallery-modal");function closeHiddenList(){headerHiddenList.forEach((function(e){e.classList.remove("hidden__list--active")})),svgArrow.forEach((function(e){e.classList.remove("list__item__svg--active")}))}modalBtn.addEventListener("click",(function(e){(e.target==modalBtn||document.querySelector(".get-in")||document.querySelector(".get-in svg"))&&(document.querySelector(".modal").style.display="block"),modalWindow.classList.add("modal--active")})),styleList.addEventListener("click",(function(e){const t=e.target;closeHiddenList(),styleLIstItems.forEach((function(e,n){t==styleLIstItems[n]&&(headerHiddenList[n].classList.add("hidden__list--active"),svgArrow[n].classList.add("list__item__svg--active"))}))})),article.addEventListener("click",(function(e){e.target!=styleList&&closeHiddenList()})),document.querySelectorAll(".header__bottom__list__item").forEach((function(e){e.addEventListener("keydown",(function(t){"Enter"==t.code&&(e.querySelector(".hidden__list-wrapper").classList.toggle("hidden__list--active"),e.querySelector(".header__bottom__list__item__svg").classList.toggle("list__item__svg--active"))}))}));const galleryContent=document.querySelector(".gallery-swiper-container");function showHiddenCards(){document.querySelectorAll(".event-list__card").forEach((function(e){e.classList.remove("hidden-card"),e.classList.remove("hidden-tablet-card")}))}function hideButton(){const e=document.querySelector(".event__btn");e.addEventListener("click",(function(){e.style="display: none",showHiddenCards()}))}function init(){const e=new ymaps.Map("map",{center:[55.75846306898368,37.601079499999905],zoom:12}),t=new ymaps.Placemark([55.75846306898368,37.601079499999905],{},{iconLayout:"default#image",iconImageHref:"img/svg/mapmark.svg",iconImageSize:[20,20],iconImageOffset:[-3,-42]});e.geoObjects.add(t)}galleryContent.addEventListener("click",(function(e){const t=e.target,n=t.parentElement.parentElement.querySelector("picture").innerHTML;document.querySelector(".gallery-modal__img picture").innerHTML=n,(t===document.querySelector(".gallery-img__hover")||document.querySelector(".gallery-img__hover-loupe"))&&(document.querySelector(".modal__wrapper").classList.add("modal--active"),galleryModalContent.style.display="flex")})),modalClose.forEach((function(e){e.addEventListener("click",(function(e){e.target.parentElement.parentElement.parentElement.classList.remove("modal--active"),document.querySelector(".modal").style.display="none",galleryModalContent.style.display="none"}))})),document.querySelectorAll(".hidden__list-wrapper").forEach((function(e){new SimpleBar(e)})),document.querySelectorAll(".catalog-main__list__item__title").forEach((function(e){e.addEventListener("click",(function(t){e.nextElementSibling.classList.toggle("inner-list__active"),t.currentTarget.lastElementChild.classList.toggle("arrow-down--active"),t.preventDefault()}))})),document.querySelectorAll(".inner-list__item").forEach((function(e){e.addEventListener("click",(function(e){const t=e.currentTarget.dataset.artist;document.querySelectorAll(".artist-container").forEach((function(e){e.classList.remove("artist-container--active")})),document.querySelector(`[data-target="${t}"]`).classList.add("artist-container--active")}))})),document.querySelectorAll(".inner-list__artists").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault()}))})),document.querySelectorAll(".catalog-lang-list__item").forEach((function(e){e.addEventListener("click",(function(e){const t=e.currentTarget.dataset.country;document.querySelectorAll(".catalog-main").forEach((function(e){e.classList.remove("catalog-main--active")})),document.querySelector(`[data-container="${t}"]`).classList.add("catalog-main--active")}))})),document.querySelectorAll(".catalog-lang-list__item").forEach((function(e){e.addEventListener("keydown",(function(e){const t=e.currentTarget.dataset.country;"Enter"==e.code&&(document.querySelectorAll(".catalog-main").forEach((function(e){e.classList.remove("catalog-main--active")})),document.querySelector(`[data-container="${t}"]`).classList.add("catalog-main--active"))}))})),hideButton(),document.querySelector(".categories__mobile-wrapper").addEventListener("click",(function(){document.querySelector(".mobile-edition-form").classList.toggle("mobile-edition-form--active"),document.querySelector(".categories__arrow").classList.toggle("categories__arrow--active")})),ymaps.ready(init);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZ2FsbGVyeVN3aXBlciIsIlN3aXBlciIsImRpcmVjdGlvbiIsInNsaWRlc1Blckdyb3VwIiwic2xpZGVzUGVyQ29sdW1uIiwic2xpZGVzUGVyVmlldyIsInNwYWNlQmV0d2VlbiIsImJyZWFrcG9pbnRzIiwiNDU1IiwiNzYwIiwiMTMyMSIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJwYWdpbmF0aW9uIiwiZWwiLCJ0eXBlIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwid2luZG93Iiwib25yZXNpemUiLCJ1cGRhdGUiLCJlZGl0aW9uU3dpcGVyIiwiMTIwMCIsIjE1MDAiLCJwcm9qZWN0c1N3aXBlciIsIjU4MCIsIjExOTciLCJldmVudFN3aXBlciIsImNsaWNrYWJsZSIsInNlbGVjdG9yIiwicXVlcnlTZWxlY3RvciIsImltIiwiSW5wdXRtYXNrIiwibWFzayIsIkp1c3RWYWxpZGF0ZSIsInRlbCIsInJlcXVpcmVkIiwiZnVuY3Rpb24iLCJuYW1lIiwidmFsdWUiLCJwaG9uZSIsImlucHV0bWFzayIsInVubWFza2VkdmFsdWUiLCJOdW1iZXIiLCJsZW5ndGgiLCJlbGVtZW50IiwiY2hvaXNlcyIsIkNob2ljZXMiLCJpdGVtU2VsZWN0VGV4dCIsInNlYXJjaEVuYWJsZWQiLCJidXJnZXJCdG4iLCJzaG93SGlkZGVuRm9ybSIsImNsYXNzTGlzdCIsImFkZCIsInRvZ2dsZSIsImV2ZW50IiwiY3VycmVudFRhcmdldCIsInJlbW92ZSIsInN0eWxlTGlzdCIsInN0eWxlTElzdEl0ZW1zIiwicXVlcnlTZWxlY3RvckFsbCIsImhlYWRlckhpZGRlbkxpc3QiLCJzdmdBcnJvdyIsImFydGljbGUiLCJtb2RhbEJ0biIsIm1vZGFsQ2xvc2UiLCJtb2RhbFdpbmRvdyIsImdhbGxlcnlNb2RhbENvbnRlbnQiLCJjbG9zZUhpZGRlbkxpc3QiLCJmb3JFYWNoIiwiaXRlbSIsImUiLCJ0YXJnZXQiLCJzdHlsZSIsImRpc3BsYXkiLCJpIiwiY29kZSIsImdhbGxlcnlDb250ZW50Iiwic2hvd0hpZGRlbkNhcmRzIiwiaGlkZUJ1dHRvbiIsImV2ZW50QnRuIiwiaW5pdCIsIm15TWFwIiwieW1hcHMiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwibXlQbGFjZW1hcmsiLCJQbGFjZW1hcmsiLCJpY29uTGF5b3V0IiwiaWNvbkltYWdlSHJlZiIsImljb25JbWFnZVNpemUiLCJpY29uSW1hZ2VPZmZzZXQiLCJnZW9PYmplY3RzIiwiZ2FsbGVyeUltZyIsInBhcmVudEVsZW1lbnQiLCJpbm5lckhUTUwiLCJTaW1wbGVCYXIiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJsYXN0RWxlbWVudENoaWxkIiwicHJldmVudERlZmF1bHQiLCJhcnRpc3QiLCJkYXRhc2V0IiwiY291bnRyeSIsInJlYWR5Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxjQUFnQixJQUFJQyxPQUFPLDRCQUE2QixDQUM1REMsVUFBVyxhQUNYQyxlQUFnQixFQUNoQkMsZ0JBQWlCLEVBQ2pCQyxjQUFlLEVBQ2ZDLGFBQWMsR0FFZEMsWUFBYSxDQUNYQyxJQUFLLENBQ0hMLGVBQWdCLEVBQ2hCQyxnQkFBaUIsRUFDakJDLGNBQWUsRUFDZkMsYUFBYyxJQUdoQkcsSUFBSyxDQUNITixlQUFnQixFQUNoQkMsZ0JBQWlCLEVBQ2pCQyxjQUFlLEVBQ2ZDLGFBQWMsSUFHaEJJLEtBQU0sQ0FDSlAsZUFBZ0IsRUFDaEJDLGdCQUFpQixFQUNqQkMsY0FBZSxFQUNmQyxhQUFjLEtBTWxCSyxXQUFZLENBQ1ZDLE9BQVEsdUJBQ1JDLE9BQVEsd0JBR1ZDLFdBQVksQ0FDVkMsR0FBSSxzQkFDSkMsS0FBTSxjQUlWQyxTQUFTQyxpQkFBaUIsb0JBQW9CLFdBQzVDQyxPQUFPQyxTQUFXLFdBQ2hCcEIsY0FBY3FCLGFBSWxCLE1BQU1DLGNBQWdCLElBQUlyQixPQUFPLDRCQUE2QixDQUM1REMsVUFBVyxhQUNYQyxlQUFnQixFQUNoQkUsY0FBZSxFQUNmRCxnQkFBaUIsRUFDakJFLGFB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U0FBUzRDLGlCQUFpQixxQkFBcUJTLFNBQVEsU0FBVUMsR0FDL0RBLEVBQUtsQixVQUFVSyxPQUFPLCtCQUV4QnpDLFNBQVNjLGNBQWMsaUJBQWlCdUUsT0FBWWpELFVBQVVDLElBQUksa0NBSXRFckMsU0FBUzRDLGlCQUFpQix3QkFBd0JTLFNBQVEsU0FBVUMsR0FDbEVBLEVBQUtyRCxpQkFBaUIsU0FBUyxTQUFVc0MsR0FDdkNBLEVBQU02Qyx1QkFJVnBGLFNBQVM0QyxpQkFBaUIsNEJBQTRCUyxTQUFRLFNBQVVDLEdBQ3RFQSxFQUFLckQsaUJBQWlCLFNBQVMsU0FBVXNDLEdBQ3ZDLE1BQU1nRCxFQUFVaEQsRUFBTUMsY0FBYzhDLFFBQVFDLFFBRTVDdkYsU0FBUzRDLGlCQUFpQixpQkFBaUJTLFNBQVEsU0FBVUMsR0FDM0RBLEVBQUtsQixVQUFVSyxPQUFPLDJCQUV4QnpDLFNBQVNjLGNBQWMsb0JBQW9CeUUsT0FBYW5ELFVBQVVDLElBQUksOEJBSTFFckMsU0FBUzRDLGlCQUFpQiw0QkFBNEJTLFNBQVEsU0FBVUMsR0FDdEVBLEVBQUtyRCxpQkFBaUIsV0FBVyxTQUFVc0MsR0FDekMsTUFBTWdELEVBQVVoRCxFQUFNQyxjQUFjOEMsUUFBUUMsUUFFL0IsU0FEQ2hELEVBQU1xQixPQUVsQjVELFNBQVM0QyxpQkFBaUIsaUJBQWlCUyxTQUFRLFNBQVVDLEdBQzNEQSxFQUFLbEIsVUFBVUssT0FBTywyQkFFeEJ6QyxTQUFTYyxjQUFjLG9CQUFvQnlFLE9BQWFuRCxVQUFVQyxJQUFJLCtCQW1CNUUwQixhQUVBL0QsU0FBU2MsY0FBYywrQkFBK0JiLGlCQUFpQixTQUFTLFdBQzlFRCxTQUFTYyxjQUFjLHdCQUF3QnNCLFVBQVVFLE9BQU8sK0JBQ2hFdEMsU0FBU2MsY0FBYyxzQkFBc0JzQixVQUFVRSxPQUFPLGdDQUdoRTZCLE1BQU1xQixNQUFNdkIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdhbGxlcnlTd2lwZXIgPSBuZXcgU3dpcGVyKCcuZ2FsbGVyeS1zd2lwZXItY29udGFpbmVyJywge1xuICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gIHNsaWRlc1BlckNvbHVtbjogMSxcbiAgc2xpZGVzUGVyVmlldzogMSxcbiAgc3BhY2VCZXR3ZWVuOiAxMCxcblxuICBicmVha3BvaW50czoge1xuICAgIDQ1NToge1xuICAgICAgc2xpZGVzUGVyR3JvdXA6IDIsXG4gICAgICBzbGlkZXNQZXJDb2x1bW46IDEsXG4gICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgICB9LFxuXG4gICAgNzYwOiB7XG4gICAgICBzbGlkZXNQZXJHcm91cDogMixcbiAgICAgIHNsaWRlc1BlckNvbHVtbjogMixcbiAgICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgICBzcGFjZUJldHdlZW46IDM0XG4gICAgfSxcblxuICAgIDEzMjE6IHtcbiAgICAgIHNsaWRlc1Blckdyb3VwOiAzLFxuICAgICAgc2xpZGVzUGVyQ29sdW1uOiAyLFxuICAgICAgc2xpZGVzUGVyVmlldzogMyxcbiAgICAgIHNwYWNlQmV0d2VlbjogNTBcbiAgICB9XG4gIH0sXG5cblxuXG4gIG5hdmlnYXRpb246IHtcbiAgICBuZXh0RWw6ICcuZ2FsbGVyeS1idXR0b24tbmV4dCcsXG4gICAgcHJldkVsOiAnLmdhbGxlcnktYnV0dG9uLXByZXYnLFxuICB9LFxuXG4gIHBhZ2luYXRpb246IHtcbiAgICBlbDogJy5nYWxsZXJ5LXBhZ2luYXRpb24nLFxuICAgIHR5cGU6ICdmcmFjdGlvbicsXG4gIH0sXG59KTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGdhbGxlcnlTd2lwZXIudXBkYXRlKCk7XG4gIH07XG59KTtcblxuY29uc3QgZWRpdGlvblN3aXBlciA9IG5ldyBTd2lwZXIoJy5lZGl0aW9uLXN3aXBlci1jb250YWluZXInLCB7XG4gIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICBzbGlkZXNQZXJHcm91cDogMSxcbiAgc2xpZGVzUGVyVmlldzogMSxcbiAgc2xpZGVzUGVyQ29sdW1uOiAxLFxuICBzcGFjZUJldHdlZW46IDEwLFxuXG4gIG5hdmlnYXRpb246IHtcbiAgICBuZXh0RWw6ICcuZWRpdGlvbi1idXR0b24tbmV4dCcsXG4gICAgcHJldkVsOiAnLmVkaXRpb24tYnV0dG9uLXByZXYnLFxuICB9LFxuXG4gIHBhZ2luYXRpb246IHtcbiAgICBlbDogJy5lZGl0aW9uLXBhZ2luYXRpb24nLFxuICAgIHR5cGU6ICdmcmFjdGlvbicsXG4gIH0sXG5cbiAgYnJlYWtwb2ludHM6IHtcbiAgICA0NTU6IHtcbiAgICAgIHNsaWRlc1Blckdyb3VwOiAyLFxuICAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAgIHNsaWRlc1BlckNvbHVtbjogMSxcbiAgICAgIHNwYWNlQmV0d2VlbjogMzRcbiAgICB9LFxuXG4gICAgMTIwMDoge1xuICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gICAgICBzbGlkZXNQZXJDb2x1bW46IDEsXG4gICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgc3BhY2VCZXR3ZWVuOiA1MFxuICAgIH0sXG5cbiAgICAxNTAwOiB7XG4gICAgICBzbGlkZXNQZXJHcm91cDogMSxcbiAgICAgIHNsaWRlc1BlckNvbHVtbjogMSxcbiAgICAgIHNsaWRlc1BlclZpZXc6IDMsXG4gICAgICBzcGFjZUJldHdlZW46IDUwXG4gICAgfVxuICB9XG59KTtcblxuY29uc3QgcHJvamVjdHNTd2lwZXIgPSBuZXcgU3dpcGVyKCcucHJvamVjdHMtc3dpcGVyLWNvbnRhaW5lcicsIHtcbiAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gIHNsaWRlc1BlclZpZXc6IDEsXG4gIHNsaWRlc1Blckdyb3VwOiAxLFxuICBzbGlkZXNQZXJDb2x1bW46IDEsXG4gIHNwYWNlQmV0d2VlbjogMTAsXG5cbiAgbmF2aWdhdGlvbjoge1xuICAgIG5leHRFbDogJy5wcm8tYnV0dG9uLW5leHQnLFxuICAgIHByZXZFbDogJy5wcm8tYnV0dG9uLXByZXYnLFxuICB9LFxuXG4gIGJyZWFrcG9pbnRzOiB7XG4gICAgNTgwOiB7XG4gICAgICBzbGlkZXNQZXJHcm91cDogMixcbiAgICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgICBzbGlkZXNQZXJDb2x1bW46IDEsXG4gICAgICBzcGFjZUJldHdlZW46IDM0XG4gICAgfSxcblxuICAgIDExOTc6IHtcbiAgICAgIHNsaWRlc1Blckdyb3VwOiAzLFxuICAgICAgc2xpZGVzUGVyQ29sdW1uOiAxLFxuICAgICAgc2xpZGVzUGVyVmlldzogMyxcbiAgICAgIHNwYWNlQmV0d2VlbjogNTBcbiAgICB9XG4gIH1cbn0pO1xuXG5jb25zdCBldmVudFN3aXBlciA9IG5ldyBTd2lwZXIoJy5ldmVudC1zd2lwZXItY29udGFpbmVyJywge1xuICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgc2xpZGVzUGVyVmlldzogMSxcbiAgc3BhY2VCZXR3ZWVuOiAxMCxcblxuICBwYWdpbmF0aW9uOiB7XG4gICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgIHR5cGU6ICdidWxsZXRzJyxcbiAgICBjbGlja2FibGU6IHRydWUsXG4gIH0sXG59KTtcblxuY29uc3Qgc2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwidGVsXCJdJyk7XG5jb25zdCBpbSA9IG5ldyBJbnB1dG1hc2soJys3ICg5OTkpIDk5OS05OS05OScpO1xuXG5pbS5tYXNrKHNlbGVjdG9yKTtcblxubmV3IEp1c3RWYWxpZGF0ZSgnZm9ybScsIHtcbiAgdGVsOiB7XG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgZnVuY3Rpb246IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgcGhvbmUgPSBzZWxlY3Rvci5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpO1xuICAgICAgcmV0dXJuIE51bWJlcihwaG9uZSkgJiYgcGhvbmUubGVuZ3RoID09IDEwO1xuICAgIH1cbiAgfVxufSk7XG5cbmNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2VsZWN0Jyk7XG5jb25zdCBjaG9pc2VzID0gbmV3IENob2ljZXMoZWxlbWVudCwge1xuICBpdGVtU2VsZWN0VGV4dDogJycsXG4gIHNlYXJjaEVuYWJsZWQ6IGZhbHNlXG59KTtcblxuY29uc3QgYnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1tZW51Jyk7XG5cbmJ1cmdlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1tZW51X19uYXYnKS5jbGFzc0xpc3QudG9nZ2xlKCdtZW51X19uYXYtYWN0aXZlJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItbWVudV9faWNvbicpLmNsYXNzTGlzdC50b2dnbGUoJ2ljb24tYWN0aXZlJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJsZXQtbG91cGVfX3NlYXJjaCcpLmNsYXNzTGlzdC50b2dnbGUoJ3RhYmxldC1sb3VwZV9fc2VhcmNoLS1oaWRkZW4nKTtcbn0pO1xuXG5cbmZ1bmN0aW9uIHNob3dIaWRkZW5Gb3JtKCkge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFibGV0LWxvdXBlX19zZWFyY2gnKS5jbGFzc0xpc3QuYWRkKCdzZWFyY2gtYWN0aXZlJyk7XG59XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJsZXQtbG91cGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3NlYXJjaC1hY3RpdmUnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1iZycpLmNsYXNzTGlzdC5hZGQoJ21vYmlsZS1iZy0tYWN0aXZlJyk7XG4gIHNob3dIaWRkZW5Gb3JtKCk7XG59KTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJsZXQtbG91cGVfX3NlYXJjaCcpLmNsYXNzTGlzdC5yZW1vdmUoJ3NlYXJjaC1hY3RpdmUnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYmxldC1sb3VwZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3NlYXJjaC1hY3RpdmUnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1iZycpLmNsYXNzTGlzdC5yZW1vdmUoJ21vYmlsZS1iZy0tYWN0aXZlJyk7XG59KTtcblxuY29uc3Qgc3R5bGVMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYm90dG9tX19saXN0Jyk7XG5jb25zdCBzdHlsZUxJc3RJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oZWFkZXJfX2JvdHRvbV9fbGlzdF9faXRlbV9fbGluaycpO1xuY29uc3QgaGVhZGVySGlkZGVuTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWRkZW5fX2xpc3Qtd3JhcHBlcicpO1xuY29uc3Qgc3ZnQXJyb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVhZGVyX19ib3R0b21fX2xpc3RfX2l0ZW1fX3N2ZycpO1xuY29uc3QgYXJ0aWNsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcnRpY2xlX19ib3hfX3dyYXAnKTtcbmNvbnN0IG1vZGFsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdldC1pbl9faW5uZXInKTtcbmNvbnN0IG1vZGFsQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWxDbG9zZUJ0bicpO1xuY29uc3QgbW9kYWxXaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX3dyYXBwZXInKTtcbmNvbnN0IGdhbGxlcnlNb2RhbENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeS1tb2RhbCcpO1xuXG5tb2RhbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICBpZiAodGFyZ2V0ID09IG1vZGFsQnRuIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nZXQtaW4nKSB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2V0LWluIHN2ZycpKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIH1cbiAgbW9kYWxXaW5kb3cuY2xhc3NMaXN0LmFkZCgnbW9kYWwtLWFjdGl2ZScpO1xufSk7XG5cbmZ1bmN0aW9uIGNsb3NlSGlkZGVuTGlzdCgpIHtcbiAgaGVhZGVySGlkZGVuTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW5fX2xpc3QtLWFjdGl2ZScpO1xuICB9KTtcbiAgc3ZnQXJyb3cuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnbGlzdF9faXRlbV9fc3ZnLS1hY3RpdmUnKTtcbiAgfSk7XG59XG5cbnN0eWxlTGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICBjbG9zZUhpZGRlbkxpc3QoKTtcbiAgc3R5bGVMSXN0SXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgIGlmICh0YXJnZXQgPT0gc3R5bGVMSXN0SXRlbXNbaV0pIHtcbiAgICAgIGhlYWRlckhpZGRlbkxpc3RbaV0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuX19saXN0LS1hY3RpdmUnKTtcbiAgICAgIHN2Z0Fycm93W2ldLmNsYXNzTGlzdC5hZGQoJ2xpc3RfX2l0ZW1fX3N2Zy0tYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5hcnRpY2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gIGlmICh0YXJnZXQgIT0gc3R5bGVMaXN0KSB7XG4gICAgY2xvc2VIaWRkZW5MaXN0KCk7XG4gIH1cbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVhZGVyX19ib3R0b21fX2xpc3RfX2l0ZW0nKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGNvbnN0IGVudGVyID0gZXZlbnQuY29kZTtcbiAgICBpZiAoZW50ZXIgPT0gJ0VudGVyJykge1xuICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcuaGlkZGVuX19saXN0LXdyYXBwZXInKS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW5fX2xpc3QtLWFjdGl2ZScpO1xuICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19ib3R0b21fX2xpc3RfX2l0ZW1fX3N2ZycpLmNsYXNzTGlzdC50b2dnbGUoJ2xpc3RfX2l0ZW1fX3N2Zy0tYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5jb25zdCBnYWxsZXJ5Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5LXN3aXBlci1jb250YWluZXInKTtcblxuZ2FsbGVyeUNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgY29uc3QgZ2FsbGVyeUltZyA9IHRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcigncGljdHVyZScpLmlubmVySFRNTDtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnktbW9kYWxfX2ltZyBwaWN0dXJlJykuaW5uZXJIVE1MID0gZ2FsbGVyeUltZztcbiAgaWYgKHRhcmdldCA9PT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnktaW1nX19ob3ZlcicpIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5LWltZ19faG92ZXItbG91cGUnKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fd3JhcHBlcicpLmNsYXNzTGlzdC5hZGQoJ21vZGFsLS1hY3RpdmUnKTtcbiAgICBnYWxsZXJ5TW9kYWxDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIH1cbn0pO1xuXG5tb2RhbENsb3NlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgdGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLS1hY3RpdmUnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGdhbGxlcnlNb2RhbENvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfSk7XG59KTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhpZGRlbl9fbGlzdC13cmFwcGVyJykuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICBuZXcgU2ltcGxlQmFyKGl0ZW0pO1xufSk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXRhbG9nLW1haW5fX2xpc3RfX2l0ZW1fX3RpdGxlJykuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaXRlbS5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZSgnaW5uZXItbGlzdF9fYWN0aXZlJyk7XG4gICAgZXZlbnQuY3VycmVudFRhcmdldC5sYXN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC50b2dnbGUoJ2Fycm93LWRvd24tLWFjdGl2ZScpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH0pO1xufSk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbm5lci1saXN0X19pdGVtJykuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgY29uc3QgYXJ0aXN0ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFydGlzdDtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hcnRpc3QtY29udGFpbmVyJykuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhcnRpc3QtY29udGFpbmVyLS1hY3RpdmUnKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXJnZXQ9XCIke2FydGlzdH1cIl1gKS5jbGFzc0xpc3QuYWRkKCdhcnRpc3QtY29udGFpbmVyLS1hY3RpdmUnKTtcbiAgfSk7XG59KTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlubmVyLWxpc3RfX2FydGlzdHMnKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KTtcbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2F0YWxvZy1sYW5nLWxpc3RfX2l0ZW0nKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBjb25zdCBjb3VudHJ5ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNvdW50cnk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2F0YWxvZy1tYWluJykuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdjYXRhbG9nLW1haW4tLWFjdGl2ZScpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNvbnRhaW5lcj1cIiR7Y291bnRyeX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nLW1haW4tLWFjdGl2ZScpO1xuICB9KTtcbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2F0YWxvZy1sYW5nLWxpc3RfX2l0ZW0nKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGNvbnN0IGNvdW50cnkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY291bnRyeTtcbiAgICBjb25zdCBlbnRlciA9IGV2ZW50LmNvZGU7XG4gICAgaWYgKGVudGVyID09ICdFbnRlcicpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXRhbG9nLW1haW4nKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnY2F0YWxvZy1tYWluLS1hY3RpdmUnKTtcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtY29udGFpbmVyPVwiJHtjb3VudHJ5fVwiXWApLmNsYXNzTGlzdC5hZGQoJ2NhdGFsb2ctbWFpbi0tYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBzaG93SGlkZGVuQ2FyZHMoKSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ldmVudC1saXN0X19jYXJkJykuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuLWNhcmQnKTtcbiAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbi10YWJsZXQtY2FyZCcpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaGlkZUJ1dHRvbigpIHtcbiAgY29uc3QgZXZlbnRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXZlbnRfX2J0bicpO1xuICBldmVudEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBldmVudEJ0bi5zdHlsZSA9ICdkaXNwbGF5OiBub25lJztcbiAgICBzaG93SGlkZGVuQ2FyZHMoKTtcbiAgfSk7XG59XG5oaWRlQnV0dG9uKCk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRlZ29yaWVzX19tb2JpbGUtd3JhcHBlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLWVkaXRpb24tZm9ybScpLmNsYXNzTGlzdC50b2dnbGUoJ21vYmlsZS1lZGl0aW9uLWZvcm0tLWFjdGl2ZScpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0ZWdvcmllc19fYXJyb3cnKS5jbGFzc0xpc3QudG9nZ2xlKCdjYXRlZ29yaWVzX19hcnJvdy0tYWN0aXZlJyk7XG59KTtcblxueW1hcHMucmVhZHkoaW5pdCk7XG5mdW5jdGlvbiBpbml0KCkge1xuICAvLyDQodC+0LfQtNCw0L3QuNC1INC60LDRgNGC0YsuXG4gIGNvbnN0IG15TWFwID0gbmV3IHltYXBzLk1hcChcIm1hcFwiLCB7XG4gICAgY2VudGVyOiBbNTUuNzU4NDYzMDY4OTgzNjgsIDM3LjYwMTA3OTQ5OTk5OTkwNV0sXG4gICAgem9vbTogMTJcbiAgfSk7XG5cbiAgY29uc3QgbXlQbGFjZW1hcmsgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFs1NS43NTg0NjMwNjg5ODM2OCwgMzcuNjAxMDc5NDk5OTk5OTA1XSwge30sIHtcbiAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXG4gICAgaWNvbkltYWdlSHJlZjogJ2ltZy9zdmcvbWFwbWFyay5zdmcnLFxuICAgIGljb25JbWFnZVNpemU6IFsyMCwgMjBdLFxuICAgIGljb25JbWFnZU9mZnNldDogWy0zLCAtNDJdXG4gIH0pO1xuXG4gIG15TWFwLmdlb09iamVjdHMuYWRkKG15UGxhY2VtYXJrKTtcbn1cbiJdfQ==
